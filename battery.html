<html>
	<head>
		<!-- META -->
		<meta charset="utf-8" />
		<meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width, maximum-scale=1.0" />
		<meta name="author" content="Ushinro">
		<meta name="description" content="View your device's battery level and its status!">
		<meta name="keywords" content="">


		<link rel="stylesheet" href="css/reset.css">


		<title>Battery Status</title>
	</head>

	<body>
		<div class="battery-icon">
			<div class="battery battery-progress">
				Progress: <span class="meter"></span>
			</div>

			Status: <span class="battery-status"></span>
		</div>

		<script>
			var battery = navigator.battery || navigator.mozBattery || navigator.webkitBattery,
				batteryProgressHtml = document.getElementsByClassName("meter")[0],
				batteryStatusHtml = document.getElementsByClassName("battery-status")[0];
			 
			function updateBatteryStatus() {
				var batteryPercentageString = (battery.level * 100) + "%";
				console.log("Battery status: " + batteryPercentageString);
			 
				if (battery.charging) {
					console.log("Battery is charging");
					batteryStatusHtml.innerHTML = "Charging";
				}

				batteryProgressHtml.innerHTML = batteryPercentageString;
			}

			// Device got plugged in to power, or unplugged
			battery.addEventListener("chargingchange", updateBatteryStatus);
			 
			// Device's battery level changed
			battery.addEventListener("levelchange", updateBatteryStatus);
			 
			// Device's charging time changed
			battery.addEventListener("chargingtimechange",updateBatteryStatus);
			 
			// Device's discharging time changed
			battery.addEventListener("dischargingtimechange",updateBatteryStatus);

			updateBatteryStatus();
		</script>
	</body>
</html>